# 요구 페이징

### 프로세스의 일부만 메모리로 가져오는 이유

- 메모리를 효율적으로 관리하기 위해
  - 메모리가 꽉 차면 관리하기 어려우므로 가급적 적은 양의 프로세스만 유지
- 응답 속도를 향상하기 위해
  - 용량이 큰 프로세스를 전부 메모리로 가져와 실행하면 응답이 늦어질 수 있으므로 필요한 모듈만 올려 실행

### 요구 페이징

- 사용자가 요구할 때 해당 페이지를 메모리로 가져오는 것
- 메모리의 절약, 메모리의 효율적 관리, 프로세스의 응답 속도 향상 등의 효과를 볼 수 있음

### 요구 페이징과 스왑 영역

- 페이지가 스왑 영역에 있는 경우는 크게 두 가지
  - 요구 페이징으로 인해 처음부터 물리 메모리에 올라가지 못한 경우
  - 메모리가 꽉 차서 스왑 영역으로 옮겨 온 경우

<br />

## 페이지 부재 

- 프로세스가 페이지를 요청했을 때 그 페이지가 메모리에 없는 상황
- 페이지 부재가 발생하면 프로세스가 해당 페이지를 사용할 수 있도록 스왑 영역에서 물리 메모리로 옮김

#### 페이지 교체

- 페이지 부재가 발생하면 스왑 영역에 있는 페이지를 메모리의 빈 영역에 올리고 페이지 테이블을 갱신
- 빈 프레임이 없을 때는 메모리에 있는 프레임 중 하나를 스왑 영역으로 내보낸 후에 페이지 가져옴

#### 페이지 교체 알고리즘

- 어떤 페이지를 스왑 영역으로 내보낼지 결정하는 알고리즘

#### 세그먼테이션 오류와 페이지 부재

- 세그먼테이션 오류
  - 사용자의 프로세스가 주어진 메모리 공간을 벗어나거나 접근 권한이 없는 곳에 접근할 때 발생, 해당 프로세스를 강제 종료하여 해결
- 페이지 부재
  - 해당 페이지가 물리 메모리에 없을 때 발생
  - 사용자 프로세스와 무관하기 때문에 페이지 부재가 발생하면 메모리 관리자는 스왑 영역에서 해당 페이지를 물리 메모리로 옮긴 후 작업을 진행

<br/>

## 지역성, Locality

- 페이지 교체 알고리즘이 쫓아낼 페이지를 찾을 때 지역성을 바탕으로 한다.

#### 공간의 지역성

- 현재 위치에서 가까운 데이터에 접근할 확률이 먼 거리에 있는 데이터에 접근할 확률보다 높음

#### 시간의 지역성

- 현재를 기준으로 가장 가까운 시간에 접근한 데이터가 더 먼 시간에 접근한 데이터보다 사용될 확률이 높음

#### 순차적 지역성

- 여러 작업이 순서대로 진행되는 경향이 있음