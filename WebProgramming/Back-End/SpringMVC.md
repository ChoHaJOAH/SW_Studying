# Spring MVC

- 웹 애플리케이션 개발을 위한 MVC 패턴 기반의 웹 프레임워크
- Moder, View, Controller

## 구성 컴포넌트

- Dispatcher Servlet: 클라이언트의 요청을 먼저 받아들이는 서블릿으로, 요청에 맞는 컨트롤러에게 요청을 전달함
- Handler Mapping: 해당 요청이 어떤 컨트롤러에게 온 요청인지 검사함
- Controller: 클라이언트의 요청을 받아 처리하여 결과를 디스패처 서블릿에게 전달
- ViewResolver: View의 이름을 통해 알맞은 View를 찾음
- View: 사용자에게 보여질 UI 화면

<br />

## 작동 원리

1. 클라이언트가 URL을 통해 요청

2. 디스패처 서블릿이 핸들러 매핑을 통해 해당 요청이 어느 컨드롤러에게 온 요청인지 구분

3. 디스패처 서블릿이 핸들러 어댑터에게 요청 전달

4. 핸들러 어댑터는 해당 컨트롤러에 요청 전달

5. 컨트롤러는 비지니스 로직을 처리한 후, 반환할 뷰의 이름 반환

   5-1. 컨트롤러는 해당 서비스를 이용해 비즈니스 로직 실행

   5-2. 서비스는 모델(repository)을 이용해서 db의 데이터를 요청

   5-3. repository는 db와의 연동을 통해 데이터 전달

   5-4. 서비스가 받아온 데이터를 이용해 로직 처리, 컨트롤러에 전달

6. 디스패처 서블릿은 뷰 리졸버를 통해 반환할 뷰의 이름을 반환

7. 디스패처 서블릿은 컨트롤러에서 뷰에 전달할 데이터를 추가

8. 데이터가 추가된 뷰를 반환

<br />

## 특징

#### 장점

- 의존성 주입을 통해 컴포넌트 간의 결합도를 낮출 수 있어 단위테스트가 용이
- 제어의 역전을 통해 빈(객체)의 라이프싸이클에 관여하지 않고 개발에 집중할 수 있음

#### 단점

- XML을 기반으로 하는 프로젝트 설정은 너무 많은 시간이 필요
- 톰캣과 같은 WAS를 별도로 설치 필요

#### 해결책(Spring Boot)

- 장동설정(AutoConfiguration)을 도입하여 Dispatcher Servlet 등과 같은 설정 시간을 줄여줌
- 프로젝트의 의존성을 독립적으로 선택하지 않고 spring-boot-starter로 보아두어 외부 도구들을 사용하기 편리
- 내장 톰캣을 제공하여 별도의 WAS를 필요로 하지 않음



출처: https://mangkyu.tistory.com/95