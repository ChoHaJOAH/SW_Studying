# 데이터베이스(database, DB)

## 1. 데이터베이스 개념

- 한 조직의 여러 응용시스템이 공용(shared)하기 위해 최소의 중복으로 통합(integrated), 저장(Stored)된 운영(Operational) 데이터의 집합
- 보통 데이터베이스는 응용 프로그램과는 다른 별도의 미들웨어(DBMS, Database Management System)에 의해 관리

| 데이터 종류                    |                                                              |
| ------------------------------ | ------------------------------------------------------------ |
| 통합된 데이터(Integrated Data) | 하나의 주제에 따라 중복을 최소화한 데이터의 집합             |
| 저장된 데이터(Stored Data)     | 사용자나 응용 시스템이 필요시 언제든지 이용할 수 있도록 저장된 데이터의 집합 |
| 공용 데이터(Shared Data)       | 여러 사용자와 다수의 응용 시스템이 공유할 수 있도록 만든 데이터의 집합 |
| 운영 데이터(Operational Data)  | 중복을 최소화하고 여러 사람이 공유함에 있어 문제가 발생하지 않도록 관리를 필요로 하는 데이터로 이용가치가 있는 데이터의 집합 |

### 데이터베이스의 특징

- 실시간 접근성(real-time accessibilities): 질의(query)에 대해 즉각적인 처리와 응답이 이루어진다.
- 계속적인 변화(real-time accessibilities): 항상 최신의 데이터를 유지한다.
- 동시 공용(concurrent sharing): 여러 사용자가 동시에 공유 할 수 있다.
- 내용에 의한 참조(content reference): 데이터를 주소가 아닌 내용(값, value)에 따라 참조 할 수 있다.

#### 중앙집중 제어를 갖는 데이터베이스 장점 

| 장점                       | 내용                                                         |
| -------------------------- | ------------------------------------------------------------ |
| 중복성 감소(Redundancy)    | 개별적 파일이 갖는 중복성을 데이터베이스를 통해 감소시켜 기억장소 감소와 전반적 통제권강화의 효과를 가져올 수 있음 |
| 불일치 피함(Inconsistency) | 두 개(N개)의 파일에 수정이 필요할 때 한 개만 수정하고 나머지 한 개는 수정이 안되어 불일치가 발생할 수 있는데 데이터베이스를 이용할 경우 한번에 일관성 있는 수정이 가능하게 됨 |
| 데이터공유(Shared)         | 응용 프로그램이 처리하기 위한 데이터가 서로 공유되어 제공받을 수 있는 환경 제공 |
| 표준화(Standard)           | 데이터베이스를 중앙에 통제함으로써 데이터를 표현하는 데 모든 적용가능한 표준을 확립할 수 있음 |
| 보안(Security)             | 데이터에 대한 완전한 권한을 가짐으로써 데이터베이스를 적절한 채널을 통해서만 접근 가능하도록 할 수 있음 |
| 무결성(Integfity)          | 데이터베이스에 데이터가 정확하다는 것을 보증하는 것데이터베이스 중앙통제를 통해 무결성 통제를 한층 더 쉽게 할 수 있음 |

### 데이터베이스의 구성 요소

- 개체(Entity) 
  - 서로 구별이 되는 하나하나의 대상(현실세계의 대상체)
  - 하나 이상의 속성(정보)으로 구성
- 속성(Attribute)
  - 가장 작은 논리적 단위, 개체의 특성이나 상태를 기술
  - 하나의 속성만으로는 개체를 구분하기 어렵다.
- 관계(Relationship)
  - 두 개 이상의 개체 사이 또는 속성 간의 상호 연관성
  - 1:1, 1:N, N:M

<br/>

## 2. 데이터베이스 관리 시스템(Database Management System, DBMS)

- 파일시스템의 문제점(데이터의 중복성과 종속성 등)을 최소화하기 위해 등장, 사용자와 데이터베이스 간의 중계 역할
- 응용 소프트웨어와 독립적으로 데이터베이스를 관리, 운영해주는 SW시스템

### DBMS의 기능

- 정의(Definition): 저장될 데이터의 형태, 구조 등 정의하는 기능(생성)
  - DDL(Data Definition Language)
- 조작(Manipulation): 데이터베이스의 자료를 사용자가 이용할 수 있도록 검색, 갱신, 삭제 등을 지원하는 기능
  - DML(Data Manipulation Language)
- 제어(Control): 데이터의 정확성과 안전성 유지를 위한 관리 기능
  - DCL(Data Control Language)
  - 데이터의 무결성 유지, 보안, 병행 수행 제어 등을 제공

#### DBMS의 장점

- 데이터의 중복성, 종속성 최소화
- 일관성 유지
- 무결성 유지
- 사용자 간의 데이터 공유 가능
- 데이터의 보안 유지 가능
- 데이터의 표준화 구현 가능

#### DBMS의 단점

- 많은 운영비 소요
- 자료 처리 복잡
- 백업과 회복의 어려움이 있음
- 신뢰도가 약함(한 부분의 장애 요인으로 전체 시스템에 영향)

<br />

## 3. 데이터베이스 구조(스키마)

- 논리적 구조: 사용자 관점에서 본 구조, 사용자가 이해하고 생각하는 것을 나타내는 형태
- 물리적 구조: 저장 장치(기계) 관점에서 본 구조, 기계 처리에 맞는 형태

### 스키마(Schema)

- 데이터베이스의 전체적인 구조와 제약조건에 대한 명세를 기술, 정의한 것
- [사용자] <====> [외부 스키마] <====> [개념 스키마] <====> [내부 스키마] <====> (저장 DB)
- 내부 스키마(Internal Schema): 기계 관점의 물리적 구조
- 개념 스키마(Conceptual Schema): 사용자 관점의 전체적인 데이터 구조
- 외부 스키마(External Schema): 전체 데이터 중 사용자가 사용하는 한 부분에서 본 논리적 구조, 서브 스키마

### 데이터베이스 관리자(Database Administrator, DBA)

- 데이터베이스 시스템과 관련된 모든 자원에 대해 기획, 통제하며, 데이터베이스 언어를 이용해 DBMS를 거쳐 DB의 전체적인 관리 운영에 책임을 지는 집단

#### 역할

- 데이터베이스 구성요소 결정
- 저장 구조와 접근 방법 설정
- 보안, 권한 부여, 유효성 검사 등을 수행
- 스키마를 정의
- 예방, 회복 절차 수립 등을 모색
- 무결성 유지를 위한 관리



<br />

#### 자문자답!

- ##### DBMS를 사용하는 이유?

  - DBMS의 등장 전에는 파일 시스템을 사용하였는데, 파일 시스템같은 경우는 모든 응용프로그램에서 개별적으로 가지고 있어야 하는 특징이 있습니다. 

    이때문에 동일한 데이터가 중복 저장되어 일관성이 보장되지 않고, 저장 공간 측면에서도 비효율적인 중복성이나, 데이터가 시스템에 독립적이지 않아 비용적인 문제가 있는 등 여러 문제가 발생했습니다. 그리고 그 문제들을 최소화하기 위해 DBMS를 사용합니다.

- ##### 데이터베이스의 원자성을 유지하기 위해 어떤 개념을 사용하는가?

  - 트랜잭션을 사용합니다. 트랜잭션이란, 작업의 단위로, 해당 작업이 이루어지지 않으면 roll back을 통해 되돌리며 원자성을 유지 시킵니다.