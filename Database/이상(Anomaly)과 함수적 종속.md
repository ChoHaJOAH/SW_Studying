# 이상(Anomaly)과 함수적 종속

## 1. 이상(Anomaly) 현상

- 데이터베이스의 논리적 설계 시 하나의 릴레이션에 많은 속성들이 존재하여, 데이터의 중복과 종속으로 인해 발생되는 문제점

1) 삭제 이상(Deletion Anomaly)

- 관계 데이터베이스에서 삭제는 튜플 단위로 이루어지는데 이때, 원하지 않은 자료까지 함께 삭제가 이루어져 발생하는 문제점
- ex) 주문정보와 상품정보를 모두 가지고 있는 테이블에서 특정 고객의 주문정보를 삭제했을 때 상품정보까지 삭제될 때

2) 삽입 이상(Insertion Anomaly)

- 삽입과정에서 원하지 않는 자료가 삽입되거나, 자료가 부족해 삽입이 되지 않아 발생하는 문제점
- ex) 같은 테이블에서 새로운 제품에 대한 상품정보를 삽입하려 할때 해당 상품에 대한 주문이 없으므로(Not Null 조건) 삽입되지 않을 때 

3) 갱신 이상(Update Anomaly)

- 자료를 갱신하는 과정에서 정확하지 않거나 일부의 튜플만 갱신됨으로 인해 정보가 모호해지거나 일관성이 없어져 정확한 정보의 파악이 안 되는 현상, 정보의 일관성이 없어져 정확한 정보를 파악하지 못하는 문제점
- ex) 같은 테이블에 한 상품을 여러 고객이 주문한  정보가 있을 경우, 해당 상품의 가격이 변동된 후 모든 데이터를 갱신 하지 못했을 때

## 2. 함수적 종속(Functional Dependency)

- 종속: 어떤 릴레이션에서 속성 A, B가 있을 때, 임의 튜플에서 A의 값이 B의 값을 함수적으로 결정하는 것
- A의 값을 알면 B의 값을 알 수 있거나, A의 값에 따라 B의 값이 달라진다면 B는 A에 함수적으로 종속되었다고 한다. (A→B)
  - 이때, A를 결정자, B를 종속자라고 한다.

1) 완전 함수 종속과 부분 함수 종속

- 완전 함수 종속(Full Functional Dependency): 한 속성이 오직 기본키에만 종속되는 경우
- 부분 함수 종속(Partial Functional Dependency): 한 속성이 기본키가 2개 이상 합성키(복합키)로 구성됐을 때 이 중 일부 속성에 종속되는 경우

- 고객번호, 제품번호, 제품명, 주문량으로 구성된 테이블에서 제품명은 제품번호를 통해 구분할 수 있지만, 주문량은 고객번호와 제품번호를 알아야 구분이 가능하다. 이때, 주문량은 기본키에 완전 함수 종속, 제품명은 기본키에 부분 함수 종속 되었다고 한다.

2) 이행적 함수 종속(Transitive Functional Dependency)

- 릴레이션에서 A, B, C 세 가지 속성 간의 종속이 A→B, B→C일 때, A→C가 성립이 되는 경우
- A를 알면 B를 알 수 있고, B를 알면 C를 알 수 있을 때, A를 알면 C를 알 수 있는 경우

<br/>

