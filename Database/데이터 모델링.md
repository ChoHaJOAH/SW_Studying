# 데이터 모델링

## 1. 데이터베이스 설계

- 데이터베이스의 스키마를 정의하고, 이에 따라 데이터베이스를 구현 하기 위한 전반적인 과정

##### 요구조건 분석 --> 설계(개념적 설계 -> 논리적 설계 -> 물리적 설계) --> 구현 --> 운영 및 개선(유지보수)

- 요구 조건 분석: 사용자가 무엇에 대한 정보를 필요로 하는지 문제가 무엇인지 등을 분석, 실제로 만들어야 할 데이터베이스 정의, 그에 맞는 명세서(Specification) 작성
- 설계
  - 개념적 설계(Conceptual Design): 구축하고자 하는 데이터베이스를 개념적으로 표현함으로써 구현할 데이터베이스를 정하고, 구성할 구성요소를 결정한 후 수행할 작업과 관계를 설계하는 과정
    - E-R모델(Entity-Relation Model) 사용
  - 논리적 설계(Logical Design): 개념적 설계에서 만들어진 구조를 논리적으로 구현 가능한 데이터 모델로 변환하는 단계, 사용자가 알아볼 수 있는 형태로 변환하고, 스키마를 정의하는 과정(테이블로 표현)
  - 물리적 설계(Physical Design):  실제 기계가 처리하기에 알맞도록 내부 저장 장치 구조와 접근 경로 등을 설계하는 과정, 효율적인 기계 처리에 맞도록 설계하는 과정

#### 개체-관계 모델(E-R Model)

- 개념적 설계 단계에서 사용되는 설계 기법
- 개체(Entity) 타입과 관계(Relationship) 타입 간의 구조 또는 개체를 구성하는 속성(Attribute) 등을 표현



## 2. 관계 데이터 모델

- 자료의 저장 형태를 2차원 구조의 표(테이블)로 표현하는 방법

| 용어                    |                                                        |
| ----------------------- | ------------------------------------------------------ |
| 릴레이션(Relation)      | 자료 저장의 형태가 2차원 구조의 테이블로 표현          |
| 속성(Attribute)         | 릴레이션을 구성하는 각 열(Column)                      |
| 튜플(Tuple)             | 릴레이션의 한 행을 구성하는 속성들의 집합(Row, Record) |
| 도메인(Domain)          | 하나의 속성이 가질 수 있는 값들의 범위                 |
| 차수(Degree)            | 속성의 수                                              |
| 카디널리티(Cardinality) | 튜플의 수                                              |

#### 릴레이션의 특징

- 튜플들은 모두 상이하다
- 튜플들은 유일하며 순서에는 의미가 없다
- 속성들 간의 순서는 의미가 없다.
- 속성값은 원자값으로 수성되며 분해가 불가능하다.



## 3. 키(Key)와 무결성 제약조건

### 키의 종류

#### 1) 후보키(Candidate Key)

- 릴레이션에서 각 튜플을 유일하게 식별할 수 있는 속성이나 속성의 집합
- 조건: 유일성(유일하게 식별하는 성질)과 최소성(최소 구성의 성질) 만족

#### 2) 기본키(Primary Key)

- 후보키 중 튜플을 식별하기 위해 특별히 선택된 키
- 중복 될 수 없고, NULL값이 올 수 없다.

#### 3) 대체키(Alternate Key)

- 후보키 중 기본키를 제외한 속성

#### 4) 외래키(Foreign Key)

- 하나의 테이블에서 원하는 자료를 얻지 못하는 경우 다른 테이블을 참조(이용)하기 위해 사용되는 속성

- 참조 릴레이션의 기본키와 같아야 한다.

- 외래키는 NULL이 올 수 있다.

  ##### 식별 관계와 비식별 관계

  - 식별 관계: 외래키가 기본키인 경우, 참조 테이블의 튜플을 식별할 수 있다.

  - 비식별 관계: 외래키가 일반 속성인 경우, 테이블을 참조하여 원하는 정보만 얻을 수 있다.

#### 5) 슈퍼키(Super Key)

- 한 릴레이션 내의 튜플들을 식별할 수 있는 후보키와 다른 속성들과의 모든 조합
- 유일성은 만족하지만, 최소성은 만족하지 않는다.

### 무결성(Integrity) 제약조건

- 정확성과 안정성을 유지하기 위한 제약조건

#### 1) 개체 무결성

- 기본키는 NULL값, 중복 값이 될 수 없다.
- 개체를 식별하기 위해서 오류가 없도록 하기 위한 제약조건

#### 2) 참조 무결성

- 외래키는 NULL값이 올 수 있고, 참조 릴레이션의 기본키와 같아야 한다.
- 테이블 참조 시 오류가 없도록 하기 위한 제약조건

#### 3) 도메인 무결성

- 속성값의 범위가 정의된 경우, 그 값은 정해진 범위 이내의 값으로 구성해야 한다.

#### 4) 고유 무결성

- 특정 속성에 대해 고유값을 가지도록 주어진 경우

#### 5) NULL 무결성

- 특정 속성에 대해 NULL값이 올 수 없다는 조건이 주어진 경우

#### 6) 키 무결성

- 한 릴레이션에는 최소한 하나의 키가 존재해야 하는 제약조건

<br />

#### 생각해보기!

##### 데이터베이스를 구현할 때 어떤 순서로 진행해야하는가?

- 데이터베이스를 설계할 때는 먼저 사용자의 요구를 분석하여 명세서를 작성하고, 개념적, 논리적, 물리적인 설계를 진행합니다. 설계한 스키마에 따라 구현을 하고, 이후에는 실제로 운영하며 유지보수를 하는 순으로 진행됩니다.

##### 무결성의 제약조건이 뭐고, 이를 지키는 이유가 무엇이라 생각하는가?

- 무결성 제약조건은 정확성과 안정성을 유지하기 위한 제약조건으로, 개체 무결성, 참조 무결성, 도메인 무결성, 고유 무결성, NULL무결성, 키 무결성이 있습니다. 이를 지키는 이유는 무결성이 유지가 되어야 DB에 저장된 데이터의 오류를 줄이고 이에따라 신뢰도가 유지되기 때문입니다.