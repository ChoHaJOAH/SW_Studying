## 생각해보기!

### 데이터베이스 개념

- ##### 데이터베이스 특징은 어떤 것이 있는가?

  - 데이터베이스는 실시간으로 처리가 가능하고, 주소가 아닌 내용에 따라 참조할 수 있으며, 동시에 여러 사용자가 공유하거나 항상 최신의 데이터를 유지하고, 동일 데이터의 중복성을 최소화하는 특징이 있습니다.

### 데이터베이스 관리 시스템

- ##### DBMS를 사용하는 이유가 무엇인가?

  - DBMS의 등장 전에는 파일 시스템을 사용하였는데, 파일 시스템같은 경우는 모든 응용프로그램에서 개별적으로 가지고 있어야 하는 특징이 있습니다. 

    이때문에 동일한 데이터가 중복 저장되어 일관성이 보장되지 않고, 저장 공간 측면에서도 비효율적인 중복성이나, 데이터가 시스템에 독립적이지 않아 비용적인 문제가 있는 등 여러 문제가 발생했습니다. 그리고 그 문제들을 최소화하기 위해 DBMS를 사용합니다.

    참고 : [파일시스템 vs 데이터베이스](https://ychae-leah.tistory.com/209)

### 데이터베이스 설계

- ##### 데이터베이스를 구현할 때 어떤 순서로 진행해야하는가?

  - 데이터베이스를 설계할 때는 먼저 사용자의 요구를 분석하여 명세서를 작성하고, 개념적, 논리적, 물리적인 설계를 진행합니다. 설계한 스키마에 따라 구현을 하고, 이후에는 실제로 운영하며 유지보수를 하는 순으로 진행됩니다.

### 키(Key)와 무결성 제약조건

- ##### 무결성의 제약조건이 뭐고, 이를 지키는 이유가 무엇이라 생각하는가?

  - 무결성 제약조건은 정확성과 안정성을 유지하기 위한 제약조건으로, 개체 무결성, 참조 무결성, 도메인 무결성, 고유 무결성, NULL무결성, 키 무결성이 있습니다. 이를 지키는 이유는 무결성이 유지가 되어야 DB에 저장된 데이터의 오류를 줄이고 이에따라 신뢰도가 유지되기 때문입니다.

### Join

- ##### Join의 종류를 아는대로 설명해주세요

  - join은 Inner Join과 Left Outer Join, Right Outer Join, Cross Join 등이 있습니다. 먼저, Inner Join은 Join의 기본 값으로 두 테이블 모두 포함하는 레코드를 표현합니다. 그리고 Left, Right Outer Join은 각각 기준 테이블이 일치하지 않는 값을 가지고 있더라도 Null값으로 표시합니다. 마지막으로 Cross Join은 집합의 곱의 개념으로 모든 값의 경우의 수를 표현합니다. 그리고 MySql에서는 지원하지 않지만 Outer Join도 존재하는데 이는 두 테이블 중 한 곳에만 포함되는 경우를 표현하는 Join입니다.

### SQL

- ##### sql문이 실행되는 순서를 알고 있나요?

  - select쿼리문을 실행했을 때 처리 순서는 FROM - WHERE - GROUP BY - HAVING - SELECT - ORDER BY순입니다.

### NoSQL

- ##### 프로젝트를 시작할 때 SQL DB와 NoSQL DB를 어떻게 선택하겠는가?

  - NoSQL은 SQL처럼 형태가 정해진 것이 아니기 때문에 처음에 정하고 시작하는데는 오히려 비효율적일 수 있다고 생각합니다. 그리고 이전 프로젝트들은 SQL DB로 개발이 가능했기때문에 방대하거나 특별한 기능이 있는 프로젝트가 아니라면 우선적으로  SQL DB를 사용해 개발을 하고, 이후 더 좋을 것 같은 방향이 정해졌을 때 DB를 바꾸는 것도 충분할 것이라고 생각합니다. 또한, SNS같은 프로젝트일 경우 graph database를, 검색엔진같은 경우 key-value database를 사용하는 선례들이 있기때문에 그러한 선례들과 비교 후 결정하는 것도 좋은 방법이라고 생각합니다.

### 이상(Anomaly)과 함수적 종속

- ##### 함수적 종속에 대해 설명하세요

  - 함수적 종속이란 테이블의 튜플에서 한 속성이 다른 속성의 값을 함수적으로 결정하는 것을 말합니다. A의 값이 B의 값을 정한다면, B는 A에 함수적으로 종속 되어있다고 표현합니다. 함수적 종속에는 완전 함수 종속, 부분 함수 종속, 이행적 함수 종속 등이 있습니다.

- ##### 모든 함수적 종속은 없도록 해야되나요?

  - 아닙니다. 릴레이션에서는 기본키를 선정하면 그 기본키에 따라 튜플을 식별할 수 있어야 하므로 완전 함수 종속은 모든 속성이 기본키에 종속이 되는 경우로 문제가 되지 않습니다. 따라서 부분 함수 종속과 이행적 함수 종속 관계는 완전 함수 종속이 되도록 구성을 해야 합니다. 하지만 개발하고자 하는 서비스에 따라 적절한 정규화를 통해 두 종속 역시 존재할 수도 있습니다. 

### 정규화와 역정규화

- ##### 정규화와 역정규화가 필요한 이유가 무엇인가요?

  - 정규화는 데이터의 중복을 최소화 하여 삽입, 삭제, 갱신 과정에서 발생하는 이상현상을 방지하기 위해 필요하고, 역정규화는 정규화로 인해 참조현상이 자주 발생하여 성능이 저하되는 정보의 경우 중복을 허용하고라도 릴레이션을 통합하거나 분할하기 위해 필요합니다.

- ##### 적절한 정규화를 위해 어떻게 프로젝트를 진행하겠는가?

  - 먼저 팀원들과 성능의 기대치를 정해놓는 것이 중요하다고 생각합니다. 정규화나 역정규화같은 경우 무조건 어떤게 낫다고 할 수 없으므로 성능 저하의 최저점을 정해놓고 이상치의 성능이 나오지 않는다면 역정규화를 하는 방법으로 조정할 필요가 있다고 생각합니다.

- ##### 각 정규화 단계를 설명해주세요

  - 제1정규화는 각 도메인이 원자값을 가지고 있어야합니다.
  - 제2정규화는 부분함수종속을 없애도록 해야됩니다.
  - 제3정규화는 이행함수종속을 없애는 것입니다.
  - 보이스코드 정규화는 결정자가 후보키가 되어야합니다.
  - 제4정규화는 다치종속을 분해하는 것입니다.
  - 제5정규화는 조인종속이 후보키를 통해서만 이루어지도록 하는 것입니다.

- ##### 다치종속이 어떤 것인지 예시를 들어 설명해주세요

  - 다치종속은 하나의 속성이 다른 속성의 집합을 결정하는 것입니다. 예를 들어 저라는 지원자의 가능 프로그래밍 언어는 java, sql, javascript라는 집합을 가지고 있는 것을 말할 수 있습니다. 또한 저라는 지원자의 가능 언어로는 한국어, 영어가 있다고도 할 수 있습니다.

### 트랜잭션

- ##### 트랜잭션이 무엇인가요? 예시를 들어설명해주세요

  - 트랜잭션이란 작업의 단위로 한 작업이 온전히 수행되거나 그렇지 않았을 때의 정보를 모순되지 않도록 합니다. 예를 들어 어떤 서비스에 가입을 하면 고객이 3000원 쿠폰을 받는다고 했을 때, 이 작업 전체를 트랜잭션으로 처리한다면 중간에 오류가 발생한다고 하더라도 고객이 가입을 했는데 쿠폰을 받지 못하는 등의 모순적인 결과는 나오지 않습니다.

- ##### 트랜잭션은 어떤 성질을 가지고 있나요?

  - 먼저 원자성(Atomicity)으로, 작업이 반드시 수행되거나 반드시 수행되지 않는 성질입니다. 다음은 일관성(Consistency)으로, 트랜잭션이 정상적으로 완료된 후 언제나 일관성 있는 데이터베이스 상태가 되어야 합니다. 독립성(Isolation)은 하나의 트랜잭션이 수행 중에는 다른 트랜잭션이 접근할 수 없고 각각의 트랜잭션은 독립적이어야 한다는 성질입니다. 마지막으로 영속성(Durability)은 트랜잭션이 성공적으로 완료된 후 결과는 지속적으로 유지되는 성질입니다.

- ##### 여러개의 트랜잭션이 한 테이블을 대상으로 진행한 경우의 문제점이 무엇인가요?

  - 트랜잭션을 병행으로 처리될 때는 갱신 내용 손실, 비완료 의존성, 모순성, 연쇄복귀의 문제점이 발생할 수 있습니다.

### 회복 기법과 병행 제어

- ##### 트랜잭션을 병행으로 처리할 때에 발생할 수 있는 문제점을 방지하기 위한 방법을 설명해주세요

  - 로킹 제어 기법을 사용합니다. 병행실행 시 하나의 트랜잭션이 사용하는 데이터를 LOCK시키고 완료됐을 때 UNLOCK하여 문제점을 방지하는 것입니다. 또한 로킹을 사용할 때 공유 락과 배타 락을 적절하게 사용하여 교착상태의 위험성을 줄일 수 있습니다. 다른 방법으로는 타임 스탬프가 있습니다. 트랜잭션이 데이터에 접근할 시간을 미리 지정하여 그 시간 순서에 따라 순서대로 데이터에 접근하여 수행하는 방법입니다.

- ##### 데드락에 대해서 설명해주세요

  - 한 트랜잭션이 완료되지 못해 Lock상태가 계속 유지되는 경우 다른 트랜잭션들의 작업이 더 이상 진행되지 못하고 무한정 기다리는 상태입니다.  교착상태를 해결하기 위해서는 예방 기법을 사용하여 트랜잭션이 실행되기 전에 필요한 데이터를 모두 로킹 해주거나 회피 기법으로 타임 스탬프 방법을 사용할 수 있습니다.

- ##### 로킹 단위에 대해 설명해주세요

  - 로킹단위는 크게하면 관리가 쉽지만 병행성 수준이 낮아지고, 작게하면 관리가 어렵고 오버헤드가 발생할 수 있지만 병행 수준이 높아집니다.

